[
    {supercast,
        [
            {auth_module,   supercast_auth_local},
            {acctrl_module, supercast_acctrl_rbac},

            % if a PDU come from client with asn_key, switch it to the module
            % implementing the supercast_module_behaviour.
            {pdu_dispatch,
                [
                    % {supercast_module_behaviour, asn_key}
                    {monitor_commander, modMonitorPDU}
                ]
            },

            % this is the initial list of channels for the client. It must be
            % the entry point for all other channels. For example, once
            % the client subscribe to the monitor channel, this one will
            % tell the client wich chan he knows about, and wich chans
            % disapear. This module can also be a simple "beha_supercast_channel"
            % module.
            {main_channels,
                [
                    'target-MasterChan'
                ]
            },

            {tcp_client,
                [
                    {enabled, true},
                    {port, 8888},
                    {maxconn, 50},
                    {encoder, supercast_encoder_asn}
                ]
            },
            {ssl_client,
                [
                    {enabled, true},
                    {ssl_conf, [
                        {certificate,   "cfg/ssl/certificate.pem"},
                        {caCertificate, "cfg/ssl/request.pem"},
                        {key,           "cfg/ssl/key.pem"}
                    ]},
                    {port, 4443},
                    {maxconn, 50},
                    {encoder, supercast_encoder_asn}
                ]
            },
            {http_sync_dir, "var/yaws/docroot"},
            {http_port,     8080},
            {http_use_ssl,  false},
            {http_conf,
                [
                    {logdir, "var/yaws/log"},
                    {listen, {0,0,0,0}},
                    {compression_level, best_speed}
                ]
            }
        ]
    },
    {monitor,
        [
            {master_chan_read_perm, ["admin"]},
            {master_chan_write_perm, ["admin"]},
            {targets_data_dir,      "var/monitor"},
            {rrd_templates_dir,     "cfg/rrds"}
        ]
    },
    {kernel,
        [
            {start_dist_ac, false},
            {inet_dist_listen_min, 9000},
            {inet_dist_listen_max, 9999}
            %{error_logger, {file, "var/log/error_logger.log"}}
        ]
    },
    {sasl,
        [
            {sasl_error_logger, {file, "var/log/sasl_error_logger.log"}}
        ]
    },
    {snmp,
        [
            {manager,
                [
                    {priority, normal},
                    {versions, [v2,v3]},
                    {config,
                        [
                            {dir,       "var/snmp"},
                            {db_dir,    "var/snmp"},
                            {verbosity, info},
                            {repair,    true},
                            {auto_save, 5000}
                        ]
                    },
                    {inform_request_behaviour, auto},
                    {server, [{timeout, 30000}, {verbosity, info}]},
                    {note_store, [{timeout, 30000}, {verbosity, info}]},
                    {def_user_module,   bmonitor_probe_snmp},
                    {net_if,
                        [
                            {module,    snmp_disco_net_if},
                            {verbosity, info},
                            {options,   [{bind_to, false}, {no_reuse, false}]}
                        ]
                    }
                ]
            }
        ]
    },
    {mnesia,
        [
            {dir,       "var/mnesia"},
            {debug,     none}
        ]
    },
    {snmpman, 
        [
            {java_node, 
                [
                    {java_com,
"/opt/jdk1.8.0_31/bin/java -cp lib/snmpman/java_bin/:lib/snmpman/java_lib/OtpErlang.jar:lib/snmpman/java_lib/snmp4j-2.3.1.jar: -Djava.security.egd=file:/dev/./urandom io.sysmo.snmpm.Snmpman var/engineID.conf >> var/log/snmpman4j.log 2>&1 &"
                    }
                ]
            }
        ]
    },
    {errd,
        [
            {rrdtool,   "/usr/bin/rrdtool"},
            {high_prio,     normal},
            {high_timeout,  5000},
            {low_prio,  low},
            {low_timeout,   25000}
        ]
    },
    {yaws,
        [
            {embedded, true}
        ]
    },
    {nchecks, 
        [
            {java_node, 
                [
                    {java_com,
"/opt/jdk1.8.0_31/bin/java -cp lib/nchecks/java_bin/:lib/nchecks/java_lib/OtpErlang.jar io.sysmo.nchecks.NChecks >> var/log/nchecks.log 2>&1 &"
                    }
                ]
            }
        ]
    },
    {equartz, 
        [
            {java_node, 
                [
                    {java_com,
"/opt/jdk1.8.0_31/bin/java -cp lib/equartz/:lib/equartz/java_bin/:lib/equartz/java_lib/* io.sysmo.equartz.EQuartz >> var/log/equartz.log 2>&1 &"
                    }
                ]
            }
        ]
    },
    {fcgisrv,
        [
            {executable, "lib/fcgisrv/priv/sysmo-webif/sysmo_web_if.fcgi"}
        ]
    }

].
