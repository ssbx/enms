[
    {ifs,
        [
            {auth_module,   bifs_auth_ldap},
            {acctrl_module, bifs_acctrl_rbac},

            % if a PDU come from client with asn_key, switch it to the module
            % implementing the ifs_module_behaviour.
            {pdu_dispatch, 
                [
                    % {ifs_module_behaviour, asn_key}
                    {tracker_api, tracker} 
                ]
            },

            % this is the initial list of channels for the client. It must be
            % the entry point for all other channels. For example, once
            % the client subscribe to the tracker channel, this one will
            % tell the client wich chan he knows about, and wich chans
            % disapear. This module can also be a simple "beha_ifs_channel" 
            % module.
            {main_channel,
                [
                    % in this case, tracker serve as a channel information
                    % source and give to clients basic informations and alerts
                    % that do not need subscribtion to specific channels.
                    tracker_master_channel
                ]
            },

            {tcp_client, 
                [
                    {enabled, true},
                    {port, 8888},
                    {maxconn, 50},
                    {encoder, bifs_encoder_asn}
                ]
            },
            {ssl_client, 
                [
                    {enabled, true},
                    {ssl_conf,  "var/ifs/ssl.conf"},
                    {port, 4443},
                    {maxconn, 50},
                    {encoder, bifs_encoder_asn}
                ]
            }
        ]
    },
    {activity_logger,
        [
            {log_file, "var/activity.log"}
        ]
    },
    {esnmp,
        [
            {registered_events, [activity_logger]}
        ]
    },
    {tracker,
        [
            {registered_events, [activity_logger]},
            %{registered_events, []},
            {db_dir, "var/tracker"},
            {rrd_dir, "var/tracker/rrd"},
            {master_chan_read_perm, ["admin"]}
        ]
    },
    {snmp,
        [
            {manager,
                [
                    {versions, [v1,v2,v3]},
                    {config,
                        [
                            {dir, "lib/esnmp/priv/snmp/manager"},
                            {db_dir, "lib/esnmp/priv/snmp/manager"}
                            %{verbosity, debug}
                        ]
                    },
                    {def_user_mod,  esnmp_user_default},
                    {def_user_data, esnmp_user_default},
                    {net_if,
                            [
                                {module, esnmp_net_if}
                                %{verbosity, trace}
                            ]
                    }
                ]
            },
            {agent,
                [
                    {config, [{dir, "lib/esnmp/priv/snmp/agent"}]},
                    {db_dir, "lib/esnmp/priv/snmp/agent"},
                    {versions, [v3]}
                ]
            }
        ]
    },
    {kernel,
        [
            {start_dist_ac, false},
            {inet_dist_listen_min, 9000},
            {inet_dist_listen_max, 9000}
        ]
    },
    {sasl,
        [
            {sasl_error_logger, {file, "var/sasl/sasl.log"}}
        ]
    }
].
